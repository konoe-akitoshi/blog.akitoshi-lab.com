# Spacing System

4pt/8ptグリッドシステム、非対称パディング、Optical Spacingを統合した余白設計理論。

## 基本理論

### 4pt/8ptグリッド

* **基本単位**: 4px
* **標準間隔**: 8px (4px × 2)
* **セクション間隔**: 16px (4px × 4)
* **ページ間隔**: 32px (4px × 8)

### 階層的スペーシング

```
要素内余白 < 要素間余白 < セクション間余白 < ページ間余白
4px → 8px → 16px → 32px
```

## 実装例

### CSS変数

```css
:root {
  --spacing-1: 0.25rem;    /* 4px - 基本単位 */
  --spacing-2: 0.5rem;     /* 8px - 要素内余白 */
  --spacing-4: 1rem;       /* 16px - 要素間余白 */
  --spacing-8: 2rem;       /* 32px - セクション間余白 */
}
```

### Tailwindクラス対応

* `p-1, m-1` = 4px
* `p-2, m-2` = 8px
* `p-4, m-4` = 16px
* `p-8, m-8` = 32px

## 適用ルール

1. **内部≤外部余白の法則**: 要素内部の余白は外部より小さく
2. **一貫性の原則**: 同じ階層では同じ余白値を使用
3. **倍数の法則**: 4の倍数で余白を設定

## 光学的補正（Optical Adjustment）

### 視覚的錯覚の理解

数値的に均一な余白でも、背景色や形状、周囲の要素によって視覚的に不均一に感じられることがあります。

### 光学的センタリング

数学的な中央配置ではなく、形状の重心や視覚的バランスを考慮し、意図的に数pxずらして配置を調整します。

### シェイプとアイコンの補正

三角形や星形など、バウンディングボックスの中心と重心がずれる形状は、一般的に1〜2px程度の光学的補正を施して視覚的中心を合わせます。

### タイポグラフィの光学カーニング

文字の形状によって等間隔でも不均一に見えるため、オプティカルカーニングを用いて文字間を微調整し、視覚的な均一感を確保します。

### 光学的補正のルール

* **補正量の目安**: バウンディングボックスに対して1〜2px（またはグリッド単位の0.25〜0.5rem）を基本とし、必要に応じて4px単位で調整する。
* **形状別補正**: 重心が偏る形状（星形、三角形など）は補正量を微調整し、常に4の倍数のグリッド単位を維持する。

### ツールとテンプレート活用

* **Keylines／グリッド**: FigmaやSketchのKeylines機能、Material Designのキーレイングリッドを活用しつつ、必要に応じて補正を加えます。

## 非対称パディング（Asymmetrical Padding）

### 理論的基盤

非対称パディングは、縦方向と横方向で異なる余白を設定することで、視覚的な自然さと心地よさを実現するデザイン手法です。人間の視覚特性上、横方向により多くの余白を感じる必要があり、縦方向は比較的控えめでも十分な空間感を得られます。

### 黄金比による非対称パディング

```css
/* 黄金比(1:1.618)を活用した非対称パディング */
.asymmetric-padding {
  padding-block: 1rem;     /* 16px - 縦方向（基準値） */
  padding-inline: 1.618rem; /* 26px - 横方向（黄金比） */
}

/* 実用的な非対称パディング例 */
.card-content {
  padding: 16px 24px;  /* 縦:16px, 横:24px (1:1.5) */
  padding: 20px 32px;  /* 縦:20px, 横:32px (1:1.6) */
}
```

### 非対称パディングの適用指針

| 要素タイプ | 縦方向 | 横方向 | 比率 | 用途 |
|------------|--------|--------|----- |------|
| カードコンテンツ | 16px | 24px | 1:1.5 | 一般的なカード内容 |
| ボタン | 12px | 20px | 1:1.67 | 小〜中サイズボタン |
| バナー/ヒーロー | 32px | 48px | 1:1.5 | 大型表示領域 |
| タグ要素 | 4px | 12px | 1:3 | 小さなラベル |
| フォーム要素 | 8px | 16px | 1:2 | 入力フィールド |

### 実装における注意点

**避けるべきパターン:**
- 縦横同じ値（`padding: 16px`）は視覚的に不自然
- 極端な比率（1:4以上）は読みにくさを生む
- 階層が深い要素での過度な非対称性

**推奨パターン:**
```css
/* 良い例: 適度な非対称性 */
.content-area {
  padding: 20px 32px; /* 1:1.6の自然な比率 */
}

/* 悪い例: 対称的すぎる */
.content-area {
  padding: 20px;     /* 縦横同じで不自然 */
}
```

## Optical Spacing（視覚的スペーシング）

### 定義と原理

Optical Spacingは、機械的な等間隔ではなく、要素の視覚的重量や形状を考慮して間隔を調整する手法です。数値的正確性よりも視覚的正確性を重視し、人間の目に自然で心地よい配置を実現します。

### 視覚的重量による調整

```css
/* 太字要素の下余白: 視覚的重量を考慮して縮小 */
h1 {
  margin-bottom: 12px; /* 標準16pxより4px小さく */
  font-weight: bold;
}

/* 軽い要素の間隔: 視覚的軽さを補正して拡大 */
.light-element {
  margin: 20px 0; /* 標準16pxより4px大きく */
  font-weight: 300;
}
```

### 形状による視覚補正

**丸い要素vs角張った要素:**
```css
/* 丸いボタン: 視覚的に詰まって見えるため間隔を広げる */
.rounded-button {
  margin: 0 8px; /* 標準6pxより2px広く */
  border-radius: 50%;
}

/* 角張ったボタン: 明確な境界のため標準間隔 */
.square-button {
  margin: 0 6px; /* 標準間隔 */
  border-radius: 4px;
}
```

### 実装における補正係数

| 要素特性 | 補正係数 | 適用例 |
|----------|----------|--------|
| 太字テキスト | 0.75倍 | `margin-bottom: 12px` (16px × 0.75) |
| 軽いテキスト | 1.25倍 | `margin-bottom: 20px` (16px × 1.25) |
| 丸い要素 | 1.33倍 | `gap: 8px` (6px × 1.33) |
| 小さい要素 | 1.5倍 | `margin: 24px` (16px × 1.5) |
| 濃い背景 | 0.9倍 | `padding: 14px` (16px × 0.9) |

### Visual Rhythm（視覚的リズム）の実装

**等間隔を避けた自然なリズム:**
```css
/* 悪い例: 機械的等間隔 */
.bad-rhythm {
  margin-bottom: 16px; /* 全て同じ */
}

/* 良い例: 視覚的リズム */
.good-rhythm h1 {
  margin-bottom: 20px; /* タイトル下は広めに */
}
.good-rhythm p {
  margin-bottom: 12px; /* 段落間は控えめに */
}
.good-rhythm .section {
  margin-bottom: 32px; /* セクション間は明確に */
}
```

### 実用的なOptical Spacing設定

```css
/* サムネイルコンポーネントでの実装例 */
.thumbnail-container {
  /* 非対称パディング */
  padding: 16px 20px; /* 縦:横 = 1:1.25 */
}

.thumbnail-title {
  /* 太字の視覚的重量を考慮 */
  margin-bottom: 20px; /* 標準16pxより4px大きく */
  font-weight: bold;
  line-height: 1.4; /* leading-relaxed for breathing space */
}

.thumbnail-meta {
  /* 要素間の視覚的分離 */
  gap: 20px; /* アイコン+テキストとタグ群の分離 */
}

.thumbnail-icon {
  /* アイコンの軽い視覚重量を補正 */
  margin-right: 8px; /* 標準6pxより2px広く */
}

.thumbnail-tags {
  /* 小要素間の適切な密度 */
  gap: 8px; /* タグ間の呼吸感 */
}
```

## まとめ

**統合的スペーシング戦略:**
1. **基礎**: 4pt/8ptグリッドシステム
2. **視覚調和**: 非対称パディング（1:1.2-1.6比率）
3. **知覚最適化**: Optical Spacingによる視覚的重量調整
4. **リズム創出**: Visual Rhythmによる自然な間隔変化

**実装優先順位:**
1. グリッドシステムの基本ルール適用
2. 非対称パディングで自然な空間感創出
3. 視覚的重量に基づく微調整
4. 全体のリズム感確認と最終調整