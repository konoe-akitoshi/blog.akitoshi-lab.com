# Spacing System

4pt/8ptグリッドシステムに基づく余白設計理論。

## 基本理論

### 4pt/8ptグリッド

* **基本単位**: 4px
* **標準間隔**: 8px (4px × 2)
* **セクション間隔**: 16px (4px × 4)
* **ページ間隔**: 32px (4px × 8)

### 階層的スペーシング

```
要素内余白 < 要素間余白 < セクション間余白 < ページ間余白
4px → 8px → 16px → 32px
```

## 実装例

### CSS変数

```css
:root {
  --spacing-1: 0.25rem;    /* 4px - 基本単位 */
  --spacing-2: 0.5rem;     /* 8px - 要素内余白 */
  --spacing-4: 1rem;       /* 16px - 要素間余白 */
  --spacing-8: 2rem;       /* 32px - セクション間余白 */
}
```

### Tailwindクラス対応

* `p-1, m-1` = 4px
* `p-2, m-2` = 8px
* `p-4, m-4` = 16px
* `p-8, m-8` = 32px

## 適用ルール

1. **内部≤外部余白の法則**: 要素内部の余白は外部より小さく
2. **一貫性の原則**: 同じ階層では同じ余白値を使用
3. **倍数の法則**: 4の倍数で余白を設定

## 光学的補正（Optical Adjustment）

### 視覚的錯覚の理解

数値的に均一な余白でも、背景色や形状、周囲の要素によって視覚的に不均一に感じられることがあります。

### 光学的センタリング

数学的な中央配置ではなく、形状の重心や視覚的バランスを考慮し、意図的に数pxずらして配置を調整します。

### シェイプとアイコンの補正

三角形や星形など、バウンディングボックスの中心と重心がずれる形状は、一般的に1〜2px程度の光学的補正を施して視覚的中心を合わせます。

### タイポグラフィの光学カーニング

文字の形状によって等間隔でも不均一に見えるため、オプティカルカーニングを用いて文字間を微調整し、視覚的な均一感を確保します。

### 光学的補正のルール

* **補正量の目安**: バウンディングボックスに対して1〜2px（またはグリッド単位の0.25〜0.5rem）を基本とし、必要に応じて4px単位で調整する。
* **形状別補正**: 重心が偏る形状（星形、三角形など）は補正量を微調整し、常に4の倍数のグリッド単位を維持する。

### ツールとテンプレート活用

* **Keylines／グリッド**: FigmaやSketchのKeylines機能、Material Designのキーレイングリッドを活用しつつ、必要に応じて補正を加えます。